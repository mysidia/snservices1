$Id$

Installation Procedures for the SorceryNet IRC Server:

This document describes how to install ircd, the unix daemon that acts as 
an IRC server. Specifically, for the SorceryNet IRC Network, though some 
information may be applicable to other networks as well.

For more information on SorceryNet or this server, please see our WWW page
at <http://www.sorcery.net/>.

The SorceryNet server is available from ftp://ftp.sorcery.net/, along with
the latest copy of this document.

=======================================================================
This version of the SorceryNet IRC Server is known to compile on the
following platforms, and with the following compilers.  If you wish to add
to this list, send the relevant information to us.

OS and Version      Compiler and Version     Comments
------------------- ------------------------ -------------------------------
NetBSD 1.51         egcs-1.1.2

Linux 2.2.16        gcc 2.95.2

Linux 2.2.16        gcc 3.0 

FreeBSD 3.3         gcc 2.7.2.3

=======================================================================
Unpacking the Distribution

The SorceryNet server
<ftp://ftp.sorcery.net/sorcery/server/ircd-sor1.4.0.tar.gz> comes tarred
and gzipped. To uncompress it and expand it, use the following commands at
the UNIX prompt:

tar zxf ircd-sor1.4.0.tar.gz

This will create a new directory called ircd-sor1.4.0, and unpack the
source.

=======================================================================
Compiling Your Server

To build the server, you first need to run the 'configure' script with
your desired options

   ./configure --help 

to list your options.

For example:

   ./configure --mode=700 --dpath=/usr/local/lib/ircd --enable-hub

Next, type 'make'. This will compile your server. Depending on your system,
this may be a good time for a caffeine break.

Hopefully, the server will compile without incident. If it does not, and 
you are not able to determine the error, please email coders@sorcery.net
and hopefully someone will be able to help you with the problem.  If you
do need to fix something, mail there with a patch.

BE CERTAIN TO INCLUDE OPERATING SYSTEM INFORMATION (uname -a) AND COMPILER
VERSION (gcc -v, for instance) IN ALL BUG REPORTS.

=======================================================================
Installing the Files

run 'make install' to install the server files

=======================================================================
Configuring Your Server

The previous step places a file named 'example.conf' into your irc 
directory you specified to Config.

To create an IRC configuration file, type:
	cp example.conf ircd.conf

Now edit this file to reflect your server. The file is mainly 
self-explanatory. Note that if you plan to use your server on SorceryNet, 
make sure that you have the following line:

U:services.sorcery.net:*:*

=======================================================================
Starting Your Server

Simply enter the complete path to the executable into the Unix command 
line, then hit return. Your server is now operational, assuming that you 
have completed all the steps described above.

NOTE: If you get something like the following when running ircd:

ircd fd table too big
Hard Limit: 256 IRC max: 1024
Fix MAXCONNECTIONS

You need to change config.h and recompile. Find the line that says 
"#define MAXCONNECTIONS 1024", and change it to the number given after 
"Hard Limit" (most likely 256), then make the server again, following the 
above instructions.

Enjoy!

Lefler
